<div class="row">
  <div class="col-md-12">
    <app-modal
      [environmentVariables]="['context', 'namespace', 'pod', 'deployment', 'statefulset', 'replicas']">
    </app-modal>

    <div class="card">
      <div class="card-header">
        <h5 class="card-title">Pod</h5>
      </div>
      <div class="card-body">
        <app-code-box
          comment="exec on to pod on namespace"
          code="kubectl --context=$context --namespace=$namespace exec -ti $pod bash">
        </app-code-box>

        <app-code-box
          comment="exec mysql command on pod"
          code='kubectl --context=$context --namespace=$namespace exec -ti $pod mysql <<< "show tables;"'>
        </app-code-box>

        <app-code-box
          comment="log container"
          code='kubectl --context=${context} --namespace=${namespace} logs -f deployment/${deployment}'>
        </app-code-box>

        <app-code-box
          comment="get pods"
          code='kubectl --context=${context} --namespace=${namespace} get pods'>
        </app-code-box>

        <app-code-box
          comment="get pods on all namespace"
          code='kubectl --context=${context} get pods --all-namespaces'>
        </app-code-box>

        <app-code-box
          comment="describe pod"
          code='kubectl --context=${context} --namespace=${namespace} describe pod ${pod}'>
        </app-code-box>

        <app-code-box
          comment="scale deployment replicas"
          code='kubectl --context=${context} --namespace=${namespace} scale --replicas=${replicas} deployment/${deployment}'>
        </app-code-box>

        <app-code-box
          comment="scale statefulset replicas"
          code='kubectl --context=${context} --namespace=${namespace} scale --replicas=${replicas} statefulset/${statefulset}'>
        </app-code-box>


        <app-code-box
          comment="describe pod"
          code='kubectl --context=${context} --namespace=${namespace} describe pod ${pod}'>
        </app-code-box>

        <app-code-box
          comment="ping readiness and healthcheck endpoint on pod, endpoint will vary depending on what you set it under livenessProbe and readinessProbe"
          code='
kubectl exec -ti --namespace=${namespace} ${pod} -- bash \
  -c "curl localhost/healthcheck-liveness && curl localhost/healthcheck-readiness"'>
        </app-code-box>

      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h5 class="card-title">Cluster</h5>
      </div>
      <div class="card-body">
        <app-code-box
          comment="display all contexts"
          code="kubectl config get-contexts">
        </app-code-box>

        <app-code-box
          comment="display current context"
          code="kubectl config current-context">
        </app-code-box>

        <app-code-box
          comment="get nodes on a cluster"
          code='kubectl --context=${context} get nodes'>
        </app-code-box>

      </div>
    </div>
  </div>
</div>


